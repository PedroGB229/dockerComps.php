{% extends "main.html" %}
{% block main %}
<div class="container">
    <div class="row">
        <form class="row g-3 needs-validation" id="form">
            <input type="hidden" id="acao" name="acao" value="{{ acao }}">
            <input type="hidden" id="id" name="id" value="{{ id }}">
            <div class="card-header">
                <a href="/produto/lista" class="btn btn-outline-warning">Voltar</a>
            </div>
            <div class="col-md-4">
                <label for="supplier_id" class="form-label">Fornecedor</label>
                <select class="form-control" id="supplier_id" name="supplier_id">
                    <option value="">Selecione um fornecedor</option>
                    {% for supplier in suppliers %}
                    <option value="{{ supplier.id }}" {% if product and product.supplier_id==supplier.id %}selected{%
                        endif %}>
                        {{ supplier.nome_fantasia }}
                    </option>
                    {% endfor %}
                </select>
            </div>
            <div class="col-md-4">
                <label for="nome" class="form-label">Nome do Produto</label>
                <input type="text" class="form-control" id="nome" name="nome" placeholder="Digite o nome do produto."
                    required value="{{ product ? product.nome : '' }}">
            </div>
            <div class="col-md-4">
                <label for="codigo_barra" class="form-label">Código de Barras</label>
                <input type="text" class="form-control" id="codigo_barra" name="codigo_barra"
                    placeholder="Por favor digite seu código de barras"
                    value="{{ product ? product.codigo_barra : '' }}">
            </div>
            <div class="col-md-4">
                <label for="descricao_curta" class="form-label">Descrição Curta</label>
                <input type="text" class="form-control" id="descricao_curta" name="descricao_curta"
                    placeholder="Digite uma descrição curta" value="{{ product ? product.descricao_curta : '' }}">
            </div>
            <div class="col-md-12">
                <label for="descricao" class="form-label">Descrição</label>
                <textarea class="form-control" id="descricao" name="descricao" rows="3"
                    placeholder="Digite a descrição detalhada">{{ product ? product.descricao : '' }}</textarea>
            </div>
            <div class="col-md-4">
                <label for="preco_custo" class="form-label">Preço de Custo</label>
                <input type="text" class="form-control" id="preco_custo" name="preco_custo"
                    placeholder="Digite o preço de custo" required value="{{ product ? product.preco_custo : '' }}">
            </div>
            <div class="col-md-4">
                <label for="preco_venda" class="form-label">Preço de Venda</label>
                <input type="text" class="form-control" id="preco_venda" name="preco_venda"
                    placeholder="Digite o preço de venda" required value="{{ product ? product.preco_venda : '' }}">
            </div>
            <div class="col-md-3 form-check">
                <input type="checkbox" class="form-check-input" id="ativo" name="ativo" value="true">
                <label class="form-check-label" for="ativo">Ativo</label>
            </div>
            <div class="col-12">
                <button class="btn btn-primary" type="button" id="insert">Salvar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block script %}
{% include "script.html" %}
<script defer type="module" src="/js/product.js"></script>
{% endblock %}